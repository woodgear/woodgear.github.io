{"componentChunkName":"component---src-templates-blog-post-js","path":"/share/speeeedup-add-gh-to-you-work-flow/","result":{"data":{"markdownRemark":{"html":"<p>当辛辛苦苦搬完砖后,你优雅的</p>\n<ol>\n<li><code class=\"language-text\">git commit -m &quot;xxx&quot;</code></li>\n<li><code class=\"language-text\">git push xxx</code></li>\n<li>手动到网页上点击那个绿色的按钮\"New pull request\"</li>\n<li>点击确定</li>\n</ol>\n<p>实际第三步和第四步破坏了开发的体验\n我们要做的事情的语义是确定的,理论上讲只要两步就可以了</p>\n<ol>\n<li>在本地准备好一个分支</li>\n<li>以这个分支提一个pr</li>\n</ol>\n<p><a href=\"https://cli.github.com/\">gh</a>是一个官方的GitHub CLI 管理工具.将其加入到workflow中可以修复这一体验</p>\n<h2>push current branch and request a pull request</h2>\n<p>gh pr create -f</p>\n<h2>review workflow</h2>\n<p>review时一般分为四步  </p>\n<ol>\n<li>查看pr list 获取到到一个number 这个number后续操作的id <code class=\"language-text\">gh pr list</code></li>\n<li>查看pr diff <code class=\"language-text\">gh pr diff ${number}</code> 会显示出如同git diff的输出 来检查这次的pr的更改</li>\n<li>review pr <code class=\"language-text\">gh pr review ${number}</code> 会显示三个选项 approve comment body 使用箭头和回车进行选择</li>\n<li>merge pr <code class=\"language-text\">gh pr merge ${number}</code> 同样会让你选择是 rebase 还是squash 还是 create merge commit</li>\n</ol>\n<h2>one more</h2>\n<p>总而言之,gh所带来的体验于图形界面无二. 但命令行的优势在于其的可组合性\nreview workflow中的3-4 两部实际上也可以归并起来<br>\n<code class=\"language-text\">gh pr review ${number} -a &amp;&amp; gh pr merge ${number} -d -r</code></p>\n<p>当当前分支就是提出pr的分支时 number实际上是不需要指定的.<br>\n所以一个更高效的工作流是</p>\n<ol>\n<li><code class=\"language-text\">gh pr list</code></li>\n<li><code class=\"language-text\">gh pr checkout $number &amp;&amp; gh pr diff</code> </li>\n<li><code class=\"language-text\">gh pr -a &amp;&amp; gh pr merge -d -r</code></li>\n</ol>","fields":{"slug":"/share/speeeedup-add-gh-to-you-work-flow/","disqus":{"shortname":"woodgear-blog"}},"frontmatter":{"id":"e70708","time":"2020-10-15T11:12:49+08:00","tag":"工程效率,workflow优化"},"parent":{"__typename":"File","name":"speeeedup-add-gh-to-you-work-flow","ext":".md","birthTime":"2020-10-15T03:12:45.034Z","changeTime":"2020-10-16T01:35:31.440Z","relativeDirectory":"share","absolutePath":"C:/Users/18754/ns/share/blog/share/speeeedup-add-gh-to-you-work-flow.md"}}},"pageContext":{"slug":"/share/speeeedup-add-gh-to-you-work-flow/","disqus":{"shortname":"woodgear-blog"}}},"staticQueryHashes":["68354608"]}