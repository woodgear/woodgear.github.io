{"data":{"markdownRemark":{"html":"<h1>cli</h1>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">su postgres      \nPassword: \npostgres@kaka:/home/oaa$ psql\npsql (10.10 (Ubuntu 10.10-0ubuntu0.18.04.1))\nType &quot;help&quot; for help.\n\npostgres=# help\nYou are using psql, the command-line interface to PostgreSQL.\nType:  \\copyright for distribution terms\n       \\h for help with SQL commands\n       \\? for help with psql commands\n       \\g or terminate with semicolon to execute query\n       \\q to quit\npostgres=# </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>登录</h2>\n<p>与mysql 的登录流程不同\npsql有一个perr的登录概念\n当在pg_hba.conf 设置了之后</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"># TYPE  DATABASE        USER            ADDRESS                 METHOD\nlocal   all             postgres                                peer</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>psql -U postgres 必须使用相同的unix用户名登录\ntail -f  /var/log/postgresql/*</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">provided user name (postgres) and authenticated user name (oaa) do not match</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>在psql中 当前用户名 角色名 数据库名是 有所关联的</p>\n<h2>list user</h2>\n<p>\\du</p>\n<h2>delete user</h2>\n<p>drop role xxx; # ;很重要</p>","fields":{"slug":"/cube/postgressql/","disqus":{"shortname":"woodgear-blog"}},"frontmatter":{"id":"pisrftj","time":"1996-09-08T23:37:07+08:00","tag":null},"parent":{"__typename":"File","name":"postgressql","ext":".md","birthTime":"1970-01-01T00:00:00.000Z","changeTime":"2020-09-26T05:06:56.766Z","relativeDirectory":"cube","absolutePath":"/home/oaa/ns/share/blog/cube/postgressql.md"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/cube/postgressql/","disqus":{"shortname":"woodgear-blog"}}}