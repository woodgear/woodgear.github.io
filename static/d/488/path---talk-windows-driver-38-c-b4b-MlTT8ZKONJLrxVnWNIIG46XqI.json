{"data":{"markdownRemark":{"html":"<h1>cat/sys/inf 文件是什么</h1>\n<h1>测试模式</h1>\n<div class=\"gatsby-highlight\" data-language=\"bat\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bat line-numbers\"><code class=\"language-bat\">bcdedit /set testsigning on\nbcdedit /dbgsettings\nbcdedit /set nointegritychecks off</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h1>测试签名</h1>\n<p>微软签名的本质原因是所有的电脑中都有windows的证书,所以想要测试 我们的电脑中也要装一个自己mock的证书</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">makecert -r -pe -ss PrivateCertStore -n CN=Contoso.com(Test) -eku 1.3.6.1.5.5.7.3.3 ContosoTest.cer</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>上述命令会把PrivateCertStore这个证书装到电脑中 可以通过certmgr.msc 看到</p>\n<h2>生成测试证书</h2>\n<h2>cat</h2>\n<h2>嵌入式签名</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Signtool sign /v /fd sha256 /s PrivateCertStore /n Contoso.com(Test) /t http://timestamp.digicert.com amd64\\toaster.sys</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/talk/windows-driver/"}}