{"data":{"markdownRemark":{"html":"<h1>caps2esc</h1>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> libyaml-cpp-dev  -y\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> libevdev-dev  -y\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> libudev-dev  -y\n<span class=\"token function\">rm</span> -rf caps2esc\n<span class=\"token function\">mkdir</span> caps2esc\n<span class=\"token function\">cd</span> caps2esc\n<span class=\"token function\">git</span> clone https://gitlab.com/interception/linux/plugins/caps2esc.git\n<span class=\"token function\">cd</span> caps2esc \n<span class=\"token function\">mkdir</span> build\n<span class=\"token function\">cd</span> build\ncmake <span class=\"token punctuation\">..</span>\n<span class=\"token function\">make</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span>\n\n\n<span class=\"token keyword\">echo</span> <span class=\"token string\">'- JOB: \"intercept -g <span class=\"token variable\">$DEVNODE</span> | caps2esc | uinput -d <span class=\"token variable\">$DEVNODE</span>\"\n  DEVICE:\n    EVENTS:\n      EV_KEY: [KEY_CAPSLOCK, KEY_ESC]'</span><span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/udevmon.yaml\n\n<span class=\"token keyword\">echo</span> <span class=\"token string\">'[Unit]\nDescription=udevmon\nWants=systemd-udev-settle.service\nAfter=systemd-udev-settle.service\n\n[Service]\nExecStart=/usr/bin/nice -n -20 /usr/local/bin/udevmon -c /etc/udevmon.yaml\n\n[Install]\nWantedBy=multi-user.target'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/systemd/system/udevmon.service\n\n\n<span class=\"token function\">cd</span> <span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/\n\n\n\n<span class=\"token function\">git</span> clone https://gitlab.com/interception/linux/tools.git\n<span class=\"token function\">cd</span> tools\n<span class=\"token function\">mkdir</span> build\n<span class=\"token function\">cd</span> build\ncmake <span class=\"token punctuation\">..</span>\n<span class=\"token function\">make</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span>\n\n\n\n<span class=\"token function\">sudo</span> systemctl <span class=\"token function\">enable</span> --now udevmon\n<span class=\"token function\">sudo</span> systemctl status  udevmon</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","fields":{"slug":"/share/键位解决方案/","disqus":{"shortname":"woodgear-blog"}},"frontmatter":{"id":"sjxj044","time":"1996-09-08T23:37:07+08:00","tag":null},"parent":{"__typename":"File","name":"键位解决方案","ext":".md","birthTime":"1970-01-01T00:00:00.000Z","changeTime":"2020-11-26T15:05:48.118Z","relativeDirectory":"share","absolutePath":"/home/oaa/sm/ns/share/blog/share/键位解决方案.md"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/share/键位解决方案/","disqus":{"shortname":"woodgear-blog"}}}