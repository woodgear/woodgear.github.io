{"data":{"markdownRemark":{"html":"<blockquote>\n<p>上面千根线 下面一根针</p>\n</blockquote>\n<h1>产生</h1>\n<h2>question: snapshot的生成是异步的 tikv用什么代码方式解决这个问题的?</h2>\n<p>send_append 会同步log 发现log被compact之后就会准备发送snapshot 如果snapshot暂时不可用 每次心跳返回时会检查对应node是否同步了最新的log 这个就还会走到检查snapshot的路径上去</p>","fields":{"slug":"/share/tikv/ttikv-snapshot的一生/","disqus":{"shortname":"woodgear-blog"}},"frontmatter":{"id":"2cc36b1","time":"2020-08-07T05:56:46+08:00","tag":null},"parent":{"__typename":"File","name":"ttikv-snapshot的一生","ext":".md","birthTime":"2020-08-12T15:37:07.077Z","changeTime":"2020-08-12T17:06:42.083Z","relativeDirectory":"share/tikv","absolutePath":"/home/oaa/temp/blog/share/tikv/ttikv-snapshot的一生.md"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/share/tikv/ttikv-snapshot的一生/","disqus":{"shortname":"woodgear-blog"}}}