{"version":3,"sources":["webpack:///./node_modules/disqus-react/lib/index.js","webpack:///./src/components/layout.js","webpack:///./node_modules/disqus-react/lib/CommentEmbed.js","webpack:///./node_modules/disqus-react/lib/DiscussionEmbed.js","webpack:///./node_modules/disqus-react/lib/CommentCount.js","webpack:///./src/utils/article.js","webpack:///./node_modules/disqus-react/lib/utils.js","webpack:///./src/templates/blog-post.js"],"names":["Object","defineProperty","exports","value","DiscussionEmbed","CommentEmbed","CommentCount","undefined","_CommentCount","_CommentEmbed","_DiscussionEmbed","Disqus","default","children","query","render","data","siteTitle","site","siteMetadata","title","categories","allArticles","counter","a","category","length","rootCategory","count","ents","entries","sort","b","slice","pickCategory","allMarkdownRemark","edges","map","node","Article","fromMarkDownNode","filter","article","id","css","to","c","link","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","subClass","superClass","create","constructor","setPrototypeOf","_inherits","Number","commentId","toString","showParentComment","showMedia","createElement","src","getSrc","width","height","seamless","scrolling","frameBorder","Component","defaultProps","propTypes","string","isRequired","bool","number","_extends","assign","source","hasOwnProperty","_utils","callbacks","window","disqus_shortname","shortname","cleanInstance","loadInstance","nextProps","shallowComparison","doc","document","DISQUS","getElementById","reset","reload","config","getDisqusConfig","disqus_config","insertScript","body","removeScript","error","disqusThread","hasChildNodes","removeChild","firstChild","_this2","page","identifier","url","remote_auth_s3","remoteAuthS3","api_key","apiKey","forEach","callbackName","shape","preData","func","preInit","onInit","onReady","afterRender","preReset","onIdentify","beforeComment","onNewComment","onPaginate","queueResetCount","debounce","DISQUSWIDGETS","getCount","prevProps","className","parent","name","relativeDirectory","birthTime","changeTime","frontmatter","time","tag","directories","split","s","parserNameAndCategory","err","console","fileName","frontmatterTitle","parentElement","script","async","appendChild","wait","runOnFirstCall","timeout","context","args","deferredExecution","callNow","clearTimeout","setTimeout","isReactElement","currentProps","propNames","Set","keys","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","return","_react","element","isValidElement","Array","isArray","some","post","markdownRemark","disqusshotname","fields","disqus","dangerouslySetInnerHTML","__html","html","renderDisqus"],"mappings":"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","file":"component---src-templates-blog-post-js-a2a406dba9331e48e25d.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DiscussionEmbed = exports.CommentEmbed = exports.CommentCount = undefined;\n\nvar _CommentCount = require('./CommentCount');\n\nvar _CommentEmbed = require('./CommentEmbed');\n\nvar _DiscussionEmbed = require('./DiscussionEmbed');\n\nexports.CommentCount = _CommentCount.CommentCount;\nexports.CommentEmbed = _CommentEmbed.CommentEmbed;\nexports.DiscussionEmbed = _DiscussionEmbed.DiscussionEmbed;\nvar Disqus = {\n  CommentCount: _CommentCount.CommentCount,\n  CommentEmbed: _CommentEmbed.CommentEmbed,\n  DiscussionEmbed: _DiscussionEmbed.DiscussionEmbed\n};\nexports.default = Disqus;","import React from \"react\"\r\nimport { css } from \"@emotion/core\"\r\nimport { StaticQuery, Link, graphql } from \"gatsby\"\r\nimport Article from \"../utils/article\"\r\n\r\n//TODO 这些都是应该在插件中完成的\r\nfunction pickCategory(allArticles) {\r\n    const counter = {}\r\n    for (const a of allArticles) {\r\n        if (a.category.length != 0) {\r\n            const rootCategory = a.category[0]\r\n            const count = counter[rootCategory] || 0\r\n            counter[rootCategory] = count + 1\r\n        }\r\n    }\r\n    let ents = Object.entries(counter);\r\n    ents.sort((a, b) => b[1] - a[1])\r\n    return ents.slice(0, 6)\r\n}\r\n\r\nexport default ({ children }) => (\r\n    <StaticQuery\r\n        query={graphql`\r\n      query {\r\n        site {\r\n          siteMetadata {\r\n            title\r\n          }\r\n        }\r\n\r\n    allMarkdownRemark {\r\n      totalCount\r\n      edges {\r\n        node {\r\n          id\r\n          fields {\r\n            slug\r\n          }\r\n          frontmatter {\r\n            title\r\n            tag\r\n            time\r\n            id\r\n          }\r\n\r\n          parent {\r\n            ... on File {\r\n              name\r\n              ext\r\n              birthTime\r\n              changeTime\r\n              relativeDirectory\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n      }\r\n    `}\r\n        render={data => {\r\n            const siteTitle = data.site.siteMetadata.title\r\n            const allArticles = data.allMarkdownRemark.edges\r\n                .map(({ node }) => Article.fromMarkDownNode(node))\r\n                .filter(([article, err]) => !err)\r\n                .map(([article, err]) => article)\r\n                .filter((article) => article.id)\r\n            const categories = pickCategory(allArticles)\r\n            return (\r\n                <div id=\"main\"\r\n                    css={css`\r\n          margin: 0 auto;\r\n          max-width: 80%;\r\n        `}\r\n                >\r\n                    <div id=\"header\"\r\n                        css={css`\r\n                        display:flex;\r\n                        flex-direction: row;\r\n                        justify-content:space-between;\r\n                `}\r\n                    >\r\n                        <div id=\"title\"\r\n                            css={css`\r\n                    `}\r\n                        >\r\n                            <Link to={`/`}>\r\n                                <h3>  {siteTitle}\r\n                                </h3>\r\n                            </Link>\r\n                        </div>\r\n                        <div id=\"sub\"\r\n                            css={css`\r\n                        display:flex;\r\n                        flex-direction: row;\r\n                        > * {\r\n                            margin-right:10px;\r\n                        }\r\n                        `}\r\n                        >\r\n                            {\r\n                                categories.map((c) => {\r\n                                    const link = `/?category=${c[0]}`\r\n                                    return (<Link to={link}>{c[0]}</Link>)\r\n                                })\r\n                            }\r\n                            <div id=\"about\">\r\n                                <Link to={\"/about\"}>about</Link></div>\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"body\"\r\n                        css={css`\r\n          margin: 0 auto;\r\n          max-width: 80%;\r\n       `\r\n                        }\r\n\r\n                    > {children} </div>\r\n                </div>\r\n            )\r\n        }}\r\n    />\r\n)\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommentEmbed = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar RADIX_BASE = 36;\n\nvar CommentEmbed = exports.CommentEmbed = function (_React$Component) {\n  _inherits(CommentEmbed, _React$Component);\n\n  function CommentEmbed() {\n    _classCallCheck(this, CommentEmbed);\n\n    return _possibleConstructorReturn(this, (CommentEmbed.__proto__ || Object.getPrototypeOf(CommentEmbed)).apply(this, arguments));\n  }\n\n  _createClass(CommentEmbed, [{\n    key: 'getSrc',\n    value: function getSrc() {\n      var post = Number(this.props.commentId).toString(RADIX_BASE);\n      var parentParam = this.props.showParentComment ? '1' : '0';\n      var mediaParam = this.props.showMedia ? '1' : '0';\n      return 'https://embed.disqus.com/p/' + post + '?p=' + parentParam + '&m=' + mediaParam;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('iframe', {\n        src: this.getSrc(),\n        width: this.props.width,\n        height: this.props.height,\n        seamless: 'seamless',\n        scrolling: 'no',\n        frameBorder: '0'\n      });\n    }\n  }]);\n\n  return CommentEmbed;\n}(_react2.default.Component);\n\nCommentEmbed.defaultProps = {\n  showMedia: true,\n  showParentComment: true,\n  width: 420,\n  height: 320\n};\nCommentEmbed.propTypes = {\n  commentId: _propTypes2.default.string.isRequired,\n  showMedia: _propTypes2.default.bool,\n  showParentComment: _propTypes2.default.bool,\n  width: _propTypes2.default.number,\n  height: _propTypes2.default.number\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DiscussionEmbed = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar callbacks = ['preData', 'preInit', 'onInit', 'onReady', 'afterRender', 'preReset', 'onIdentify', 'beforeComment', 'onNewComment', 'onPaginate'];\n\nvar DiscussionEmbed = exports.DiscussionEmbed = function (_React$Component) {\n  _inherits(DiscussionEmbed, _React$Component);\n\n  function DiscussionEmbed() {\n    _classCallCheck(this, DiscussionEmbed);\n\n    return _possibleConstructorReturn(this, (DiscussionEmbed.__proto__ || Object.getPrototypeOf(DiscussionEmbed)).apply(this, arguments));\n  }\n\n  _createClass(DiscussionEmbed, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (typeof window !== 'undefined' && window.disqus_shortname && window.disqus_shortname !== this.props.shortname) this.cleanInstance();\n      this.loadInstance();\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props === nextProps) return false;\n      return (0, _utils.shallowComparison)(this.props, nextProps);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(nextProps) {\n      if (this.props.shortname !== nextProps.shortname) this.cleanInstance();\n      this.loadInstance();\n    }\n  }, {\n    key: 'loadInstance',\n    value: function loadInstance() {\n      var doc = window.document;\n\n      if (window && window.DISQUS && doc.getElementById('dsq-embed-scr')) {\n        window.DISQUS.reset({\n          reload: true,\n          config: this.getDisqusConfig(this.props.config)\n        });\n      } else {\n        window.disqus_config = this.getDisqusConfig(this.props.config);\n        window.disqus_shortname = this.props.shortname;\n        (0, _utils.insertScript)('https://' + this.props.shortname + '.disqus.com/embed.js', 'dsq-embed-scr', doc.body);\n      }\n    }\n  }, {\n    key: 'cleanInstance',\n    value: function cleanInstance() {\n      var doc = window.document;\n      (0, _utils.removeScript)('dsq-embed-scr', doc.body);\n      if (window && window.DISQUS) window.DISQUS.reset({});\n\n      try {\n        delete window.DISQUS;\n      } catch (error) {\n        window.DISQUS = undefined;\n      }\n\n      var disqusThread = doc.getElementById('disqus_thread');\n\n      if (disqusThread) {\n        while (disqusThread.hasChildNodes()) {\n          disqusThread.removeChild(disqusThread.firstChild);\n        }\n      }\n    }\n  }, {\n    key: 'getDisqusConfig',\n    value: function getDisqusConfig(config) {\n      return function () {\n        var _this2 = this;\n\n        this.page.identifier = config.identifier;\n        this.page.url = config.url;\n        this.page.title = config.title;\n        this.page.remote_auth_s3 = config.remoteAuthS3;\n        this.page.api_key = config.apiKey;\n        callbacks.forEach(function (callbackName) {\n          _this2.callbacks[callbackName] = [config[callbackName]];\n        });\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('div', _extends({}, this.props, {\n        id: 'disqus_thread'\n      }));\n    }\n  }]);\n\n  return DiscussionEmbed;\n}(_react2.default.Component);\n\nDiscussionEmbed.propTypes = {\n  shortname: _propTypes2.default.string.isRequired,\n  config: _propTypes2.default.shape({\n    identifier: _propTypes2.default.string,\n    url: _propTypes2.default.string,\n    title: _propTypes2.default.string,\n    preData: _propTypes2.default.func,\n    preInit: _propTypes2.default.func,\n    onInit: _propTypes2.default.func,\n    onReady: _propTypes2.default.func,\n    afterRender: _propTypes2.default.func,\n    preReset: _propTypes2.default.func,\n    onIdentify: _propTypes2.default.func,\n    beforeComment: _propTypes2.default.func,\n    onNewComment: _propTypes2.default.func,\n    onPaginate: _propTypes2.default.func\n  }).isRequired\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommentCount = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar queueResetCount = (0, _utils.debounce)(function () {\n  if (window.DISQUSWIDGETS) window.DISQUSWIDGETS.getCount({\n    reset: true\n  });\n}, 300, false); // eslint-disable-line no-magic-numbers\n\nvar CommentCount = exports.CommentCount = function (_React$Component) {\n  _inherits(CommentCount, _React$Component);\n\n  function CommentCount() {\n    _classCallCheck(this, CommentCount);\n\n    return _possibleConstructorReturn(this, (CommentCount.__proto__ || Object.getPrototypeOf(CommentCount)).apply(this, arguments));\n  }\n\n  _createClass(CommentCount, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.loadInstance();\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props === nextProps) return false;\n      return (0, _utils.shallowComparison)(this.props, nextProps);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.shortname !== prevProps.shortname) this.cleanInstance();\n      this.loadInstance();\n    }\n  }, {\n    key: 'loadInstance',\n    value: function loadInstance() {\n      var doc = window.document;\n      if (doc.getElementById('dsq-count-scr')) queueResetCount();else (0, _utils.insertScript)('https://' + this.props.shortname + '.disqus.com/count.js', 'dsq-count-scr', doc.body);\n    }\n  }, {\n    key: 'cleanInstance',\n    value: function cleanInstance() {\n      var body = window.document.body;\n      (0, _utils.removeScript)('dsq-count-scr', body); // count.js only reassigns this window object if it's undefined.\n\n      window.DISQUSWIDGETS = undefined;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('span', {\n        className: 'disqus-comment-count',\n        'data-disqus-identifier': this.props.config.identifier,\n        'data-disqus-url': this.props.config.url\n      }, this.props.children);\n    }\n  }]);\n\n  return CommentCount;\n}(_react2.default.Component);\n\nCommentCount.propTypes = {\n  shortname: _propTypes2.default.string.isRequired,\n  config: _propTypes2.default.shape({\n    identifier: _propTypes2.default.string,\n    url: _propTypes2.default.string,\n    title: _propTypes2.default.string\n  }).isRequired\n};","class Article {\r\n    constructor(data) {\r\n        Object.assign(this, data)\r\n    }\r\n\r\n    static fromMarkDownNode(node) {\r\n        const { name, birthTime, changeTime, relativeDirectory } = node.parent\r\n        let { id, time, tag } = node.frontmatter\r\n        tag = tag || []\r\n        const regex = /(\\/|\\\\)/gm;\r\n\r\n        const directories =\r\n            relativeDirectory.split(regex).filter(s => s.length!=0&& s!=`\\\\`&&s!=`\\/`) || []\r\n        const [title, category, err] = Article.parserNameAndCategory(\r\n            directories,\r\n            name,\r\n            node.frontmatter.title\r\n        )\r\n        if (err) {\r\n            console.error(\"fromMarkDownNode fail\", node, err)\r\n            return [null, \"fromMarkDownNode fail\"]\r\n        }\r\n\r\n        return [new Article({ title, category, id, time, tag, node }), null]\r\n    }\r\n\r\n    /*  \r\n    directories:Vec<NotEmptyString>\r\n    filenName:NotEmptyString,\r\n    frontmatterTitle:Option<NotEmptyString>\r\n    */\r\n\r\n    // why i use go err handle? why? T_T\r\n    static parserNameAndCategory(directories, fileName, frontmatterTitle) {\r\n        if (!fileName || fileName.length === 0) {\r\n            return [null, null, \"fileName could not be empty\"]\r\n        }\r\n        if (directories.length === 0 && fileName === \"main\") {\r\n            return [\r\n                null,\r\n                null,\r\n                \"fileName could not be main when this file under root dir\",\r\n            ]\r\n        }\r\n\r\n        let title = null\r\n        let category = []\r\n        if (directories.length === 0) {\r\n            title = fileName\r\n            category = []\r\n        } else if (\r\n            directories[directories.length - 1] === fileName ||\r\n            fileName === \"main\"\r\n        ) {\r\n            title = directories[directories.length - 1]\r\n            category = directories.slice(0, -1)\r\n        } else {\r\n            title = fileName\r\n            category = directories\r\n        }\r\n        if (frontmatterTitle) {\r\n            title = frontmatterTitle\r\n        }\r\n        return [title, category, null]\r\n    }\r\n\r\n}\r\nexport default Article","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.insertScript = insertScript;\nexports.removeScript = removeScript;\nexports.debounce = debounce;\nexports.isReactElement = isReactElement;\nexports.shallowComparison = shallowComparison;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction insertScript(src, id, parentElement) {\n  var script = window.document.createElement('script');\n  script.async = true;\n  script.src = src;\n  script.id = id;\n  parentElement.appendChild(script);\n  return script;\n}\n\nfunction removeScript(id, parentElement) {\n  var script = window.document.getElementById(id);\n  if (script) parentElement.removeChild(script);\n}\n\nfunction debounce(func, wait, runOnFirstCall) {\n  var timeout = void 0;\n  return function () {\n    var context = this; // eslint-disable-line consistent-this\n\n    var args = arguments;\n\n    var deferredExecution = function deferredExecution() {\n      timeout = null;\n      if (!runOnFirstCall) func.apply(context, args);\n    };\n\n    var callNow = runOnFirstCall && !timeout;\n    window.clearTimeout(timeout);\n    timeout = setTimeout(deferredExecution, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nfunction isReactElement(element) {\n  if (_react2.default.isValidElement(element)) {\n    return true;\n  } else if (Array.isArray(element)) {\n    return element.some(function (value) {\n      return _react2.default.isValidElement(value);\n    });\n  }\n\n  return false;\n}\n\nfunction shallowComparison(currentProps, nextProps) {\n  // Perform a comparison of all props, excluding React Elements, to prevent unnecessary updates\n  var propNames = new Set(Object.keys(currentProps), Object.keys(nextProps)); // eslint-disable-line no-undef\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = propNames[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var name = _step.value;\n      if (currentProps[name] !== nextProps[name] && !isReactElement(currentProps[name])) return true;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return false;\n}","import React from \"react\"\r\nimport { graphql } from \"gatsby\"\r\nimport Layout from \"../components/layout\"\r\nimport { DiscussionEmbed } from 'disqus-react';\r\n\r\nexport default ({ data }) => {\r\n    const node = data;\r\n    const post = node.markdownRemark\r\n    let { id, tag } = node.markdownRemark.frontmatter\r\n    const disqusshotname = node.markdownRemark.fields.disqus.shortname\r\n    const title = node.markdownRemark.frontmatter.title || node.markdownRemark.parent.name\r\n    tag = tag || [];\r\n    return (\r\n        <Layout>\r\n            <div>\r\n                <h1>{title}</h1>\r\n                <div dangerouslySetInnerHTML={{ __html: post.html }} />\r\n                {renderDisqus(disqusshotname, id)}\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nfunction renderDisqus(shortname, id) {\r\n    if (shortname) {\r\n        return (<DiscussionEmbed\r\n            shortname={shortname}\r\n            config={\r\n                {\r\n                    identifier: id,\r\n                }\r\n            }\r\n        />)\r\n    }\r\n    return (<div />)\r\n}\r\n\r\nexport const query = graphql`\r\nquery ($slug: String!) {\r\n    markdownRemark(fields: {slug: {eq: $slug}}) {\r\n      html\r\n      fields {\r\n        slug\r\n        disqus {\r\n              shortname\r\n            }\r\n      }\r\n      frontmatter {\r\n        id\r\n        time\r\n        tag\r\n      }\r\n      parent {\r\n        ... on File {\r\n          name\r\n          ext\r\n          birthTime\r\n          changeTime\r\n          relativeDirectory\r\n          absolutePath\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n`\r\n"],"sourceRoot":""}